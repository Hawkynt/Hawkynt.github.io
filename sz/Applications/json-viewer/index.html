<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>JSON Viewer</title>
<script src="../sz-app-bootstrap.js"></script>
<link rel="stylesheet" href="styles.css">
<script defer src="vision-data.js"></script>
  <script defer src="../vision-renderer.js"></script>
</head>
<body>

<!-- Menu Bar -->
<div class="menu-bar" id="menu-bar">
  <div class="menu-item" data-menu="file">
    File
    <div class="menu-dropdown">
      <div class="menu-entry" data-action="new">New<span class="shortcut">Ctrl+N</span></div>
      <div class="menu-entry" data-action="open">Open...<span class="shortcut">Ctrl+O</span></div>
      <div class="menu-entry" data-action="save">Save<span class="shortcut">Ctrl+S</span></div>
      <div class="menu-entry" data-action="save-as">Save As...</div>
      <div class="menu-separator"></div>
      <div class="menu-entry" data-action="exit">Exit</div>
    </div>
  </div>
  <div class="menu-item" data-menu="edit">
    Edit
    <div class="menu-dropdown">
      <div class="menu-entry" data-action="prettify">Prettify<span class="shortcut">Ctrl+Shift+F</span></div>
      <div class="menu-entry" data-action="minify">Minify</div>
      <div class="menu-entry" data-action="sort-keys">Sort Keys</div>
      <div class="menu-separator"></div>
      <div class="menu-entry" data-action="flatten">Flatten (dot-notation)</div>
      <div class="menu-entry" data-action="unflatten">Unflatten</div>
      <div class="menu-separator"></div>
      <div class="menu-entry" data-action="copy-all">Copy All<span class="shortcut">Ctrl+Shift+C</span></div>
    </div>
  </div>
  <div class="menu-item" data-menu="view">
    View
    <div class="menu-dropdown">
      <div class="menu-entry" data-action="validate">Validate<span class="shortcut">F5</span></div>
      <div class="menu-entry" data-action="find">Find...<span class="shortcut">Ctrl+F</span></div>
      <div class="menu-separator"></div>
      <div class="menu-entry" data-action="expand-all">Expand All</div>
      <div class="menu-entry" data-action="collapse-all">Collapse All</div>
    </div>
  </div>
  <div class="menu-item" data-menu="help">
    Help
    <div class="menu-dropdown">
      <div class="menu-entry" data-action="about">About JSON Viewer</div>
    </div>
  </div>
</div>

<!-- Toolbar -->
<div class="toolbar" id="toolbar">
  <button data-action="prettify" title="Format with indentation">Prettify</button>
  <button data-action="minify" title="Remove whitespace">Minify</button>
  <button data-action="validate" title="Check syntax">Validate</button>
  <div class="toolbar-sep"></div>
  <button data-action="sort-keys" title="Sort keys alphabetically">Sort Keys</button>
  <button data-action="flatten" title="Flatten nested objects to dot-notation">Flatten</button>
  <button data-action="unflatten" title="Unflatten dot-notation back to nested">Unflatten</button>
  <div class="toolbar-sep"></div>
  <button data-action="copy-all" title="Copy all JSON to clipboard">Copy All</button>
  <div class="toolbar-sep"></div>
  <button data-action="open" title="Open file">Open</button>
  <button data-action="save" title="Save file">Save</button>
</div>

<!-- Search bar (toggled by Ctrl+F) -->
<div class="search-bar" id="search-bar">
  <label>Find:</label>
  <input type="text" id="search-input" placeholder="Search keys and values..." autocomplete="off">
  <button id="search-prev" title="Previous match">Prev</button>
  <button id="search-next" title="Next match">Next</button>
  <button id="search-close" title="Close search">X</button>
  <span class="search-info" id="search-info"></span>
</div>

<!-- Main split: editor + tree -->
<div class="main-split" id="main-split">
  <div class="editor-panel" id="editor-panel">
    <textarea id="editor" spellcheck="false" placeholder="Paste or type JSON here..."></textarea>
    <div class="editor-error-bar" id="error-bar"></div>
  </div>
  <div class="splitter" id="splitter"></div>
  <div class="tree-panel" id="tree-panel"></div>
</div>

<!-- Status bar -->
<div class="status-bar" id="status-bar">
  <span class="status-section status-valid" id="status-valid">Ready</span>
  <span class="status-section" id="status-size"></span>
  <span class="status-section" id="status-nodes"></span>
  <span class="status-section status-path" id="status-path"></span>
</div>

<!-- Copy tooltip -->
<div class="copy-tooltip" id="copy-tooltip">Copied!</div>

<!-- About dialog -->
<div class="dialog-overlay" id="dlg-about">
  <div class="dialog">
    <div class="dialog-title">About JSON Viewer</div>
    <div class="dialog-body" style="text-align: center; padding: 20px;">
      <p style="font-weight: bold; font-size: 13px; margin-bottom: 12px;">JSON Viewer</p>
      <p>A JSON viewer and editor for &raquo;SynthelicZ&laquo;</p>
      <p style="margin-top: 8px; font-size: 10px;">View, edit, and transform JSON data.</p>
      <p style="margin-top: 12px; font-size: 10px; opacity: 0.7;">&copy; 1995-2026 &raquo;SynthelicZ&laquo;</p>
    </div>
    <div class="dialog-buttons">
      <button id="about-ok">OK</button>
    </div>
  </div>
</div>

<script src="controller.js"></script>
</body>
</html>
