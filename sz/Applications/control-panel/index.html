<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="System settings and configuration panel">
<meta name="robots" content="index,follow">
<meta property="og:type" content="website">
<meta property="og:title" content="Control Panel -- »SynthelicZ« Desktop">
<meta property="og:description" content="System settings and configuration panel">
<meta property="og:url" content="https://hawkynt.github.io/sz/Applications/control-panel/index.html">
<link rel="canonical" href="https://hawkynt.github.io/sz/Applications/control-panel/index.html">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "Control Panel",
  "url": "https://hawkynt.github.io/sz/Applications/control-panel/index.html",
  "description": "System settings and configuration panel",
  "applicationCategory": "UtilitiesApplication",
  "operatingSystem": "Web Browser",
  "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" }
}
</script>
<title>Display Properties</title>
<script src="../sz-app-bootstrap.js"></script>
<link rel="stylesheet" href="styles.css">
<script defer src="../vision-renderer.js"></script>
</head>
<body>
<noscript><p>System settings and configuration panel. <a href="../../index.html">Open »SynthelicZ« Desktop</a> to use this app.</p></noscript>

<div class="menu-bar">
  <div class="menu-item" data-menu="help">
    Help
    <div class="menu-dropdown">
      <div class="menu-entry" data-action="about">About Display Properties</div>
    </div>
  </div>
</div>

  <div class="tabs">
    <div class="tab" data-tab="themes">Themes</div>
    <div class="tab active" data-tab="appearance">Appearance</div>
    <div class="tab" data-tab="background">Desktop</div>
    <div class="tab" data-tab="pointers">Pointers</div>
    <div class="tab" data-tab="taskbar">Taskbar</div>
    <div class="tab" data-tab="windowmgmt">Window Mgmt</div>
  </div>

  <!-- Themes tab -->
  <div class="tab-body" id="panel-themes">
    <div class="group-box" style="flex: 0 0 auto;">
      <legend>Preview</legend>
      <div class="preview-monitor">
        <div class="preview-screen" id="pv-theme-screen">
          <div class="preview-window" id="pv-theme-window">
            <div class="preview-titlebar" id="pv-theme-titlebar">
              <span>Window Title</span>
              <div class="preview-titlebar-btns">
                <span>_</span><span>&#x25A1;</span><span>X</span>
              </div>
            </div>
            <div class="preview-content">
              <div class="preview-menubar" id="pv-theme-menubar">File&nbsp;&nbsp;Edit&nbsp;&nbsp;View</div>
              <div class="preview-body" id="pv-theme-body">Preview Area</div>
            </div>
          </div>
          <div class="preview-taskbar" id="pv-theme-taskbar">
            <div class="preview-start-btn" id="pv-theme-start">Start</div>
          </div>
        </div>
      </div>
    </div>

    <label style="font-weight:bold; margin-bottom:4px;">Theme:</label>
    <ul class="theme-list" id="theme-list"></ul>
  </div>

  <!-- Appearance tab -->
  <div class="tab-body active" id="panel-appearance">
    <div class="group-box" style="flex: 0 0 auto;">
      <legend>Preview</legend>
      <div class="preview-monitor">
        <div class="preview-screen" id="pv-screen">
          <div class="preview-inactive-bar" id="pv-inactive-bar"></div>
          <div class="preview-window" id="pv-window">
            <div class="preview-titlebar" id="pv-titlebar">
              <span>Window Title</span>
              <div class="preview-titlebar-btns">
                <span>_</span><span>&#x25A1;</span><span>X</span>
              </div>
            </div>
            <div class="preview-content" id="pv-content">
              <div class="preview-menubar">File&nbsp;&nbsp;Edit&nbsp;&nbsp;View</div>
              <div class="preview-body">Preview Area</div>
            </div>
          </div>
          <div class="preview-taskbar" id="pv-taskbar">
            <div class="preview-start-btn" id="pv-start">Start</div>
          </div>
        </div>
      </div>
    </div>

    <div class="two-col">
      <div class="col-left">
        <label style="font-weight:bold; margin-bottom:4px;">Skin:</label>
        <ul class="skin-list" id="skin-list"><li>Loading...</li></ul>
        <div class="subskin-row" id="subskin-row">
          <label>Color scheme:</label>
          <select id="subskin-select"></select>
        </div>
      </div>
      <div class="col-right">
        <label style="font-weight:bold; margin-bottom:4px;">Font:</label>
        <div id="skin-font-info" style="font-size:10px; color:var(--sz-color-gray-text);">--</div>
      </div>
    </div>
  </div>

  <!-- Desktop / Background tab -->
  <div class="tab-body" id="panel-background">
    <div class="bg-top-row">
      <div class="group-box" style="flex:0 0 auto;">
        <legend>Preview</legend>
        <div class="preview-monitor">
          <div class="preview-bg-screen" id="pv-bg-screen">
            <canvas id="pv-bg-pattern" width="172" height="130" style="position:absolute;inset:0;pointer-events:none;display:none;image-rendering:pixelated;width:100%;height:100%;"></canvas>
            <img id="pv-bg-img" src="" alt="" style="display:none;">
            <video id="pv-bg-video" muted loop playsinline style="position:absolute;inset:0;width:100%;height:100%;object-fit:cover;display:none;"></video>
          </div>
        </div>
      </div>
      <div class="group-box" style="flex:0 0 auto;">
        <legend>Base Layer</legend>
        <div class="base-layer-row">
          <label>Color:</label>
          <input type="color" id="bg-base-color" value="#3A6EA5">
        </div>
        <div class="base-layer-row" style="margin-top:4px;">
          <label class="chk-row"><input type="checkbox" id="chk-pattern"> Pattern</label>
          <button id="btn-edit-pattern" disabled>Edit...</button>
        </div>
      </div>
    </div>

    <!-- Content source subtabs -->
    <div class="bg-subtabs" id="bg-subtabs">
      <div class="subtab" data-bgtab="none">None</div>
      <div class="subtab active" data-bgtab="image">Image</div>
      <div class="subtab" data-bgtab="slideshow">Slideshow</div>
      <div class="subtab" data-bgtab="video">Video</div>
      <div class="subtab" data-bgtab="online">Online</div>
    </div>

    <!-- hidden select kept for controller.js compatibility -->
    <select id="bg-source-type" style="display:none;">
      <option value="none">None</option>
      <option value="image" selected>Image</option>
      <option value="slideshow">Slideshow</option>
      <option value="video">Video</option>
      <option value="online">Online</option>
    </select>

    <div class="source-panel" id="source-none">
      <p class="hint-text" style="padding:8px 0;">Only the base layer color and pattern will be shown.</p>
    </div>

    <div class="source-panel active" id="source-image">
      <div class="two-col" style="flex:1;min-height:0;">
        <div class="col-left" style="flex:1;">
          <ul class="bg-list" id="bg-list"><li>(None)</li></ul>
        </div>
        <div class="col-right" style="gap:6px;align-items:flex-start;">
          <div>
            <label>Position:</label><br>
            <select id="bg-mode">
              <option value="cover">Stretch</option>
              <option value="contain">Fit</option>
              <option value="fill">Fill</option>
              <option value="center">Center</option>
              <option value="tile">Tile</option>
            </select>
          </div>
          <button id="btn-bg-browse">Browse...</button>
        </div>
      </div>
    </div>

    <div class="source-panel" id="source-slideshow">
      <div style="display:flex;align-items:center;gap:6px;margin-bottom:4px;">
        <label>Folder:</label>
        <input type="text" id="slideshow-folder" readonly value="" style="flex:1;font-size:11px;">
        <button id="btn-slideshow-browse">Browse...</button>
      </div>
      <div class="slider-row">
        <label>Interval:</label>
        <input type="range" id="slideshow-interval" min="5" max="300" value="30" step="5">
        <span id="slideshow-interval-value" class="slider-value">30s</span>
      </div>
      <label class="chk-row"><input type="checkbox" id="chk-slideshow-shuffle"> Shuffle</label>
      <div style="display:flex;align-items:center;gap:8px;">
        <label>Transition:</label>
        <select id="slideshow-transition">
          <option value="fade">Fade</option>
          <option value="dissolve">Dissolve</option>
          <option value="slide-left">Slide Left</option>
          <option value="slide-right">Slide Right</option>
          <option value="zoom">Zoom</option>
        </select>
      </div>
      <div class="slider-row">
        <label>Duration:</label>
        <input type="range" id="slideshow-duration" min="0.2" max="5" value="1" step="0.1">
        <span id="slideshow-duration-value" class="slider-value">1.0s</span>
      </div>
      <div style="display:flex;align-items:center;gap:8px;">
        <label>Position:</label>
        <select id="slideshow-mode">
          <option value="cover">Stretch</option>
          <option value="contain">Fit</option>
          <option value="fill">Fill</option>
          <option value="center">Center</option>
          <option value="tile">Tile</option>
        </select>
      </div>
    </div>

    <div class="source-panel" id="source-video">
      <div style="display:flex;align-items:center;gap:6px;margin-bottom:4px;">
        <label>File:</label>
        <input type="text" id="video-file" readonly value="" style="flex:1;font-size:11px;">
        <button id="btn-video-browse">Browse...</button>
      </div>
      <label class="chk-row"><input type="checkbox" id="chk-video-loop" checked> Loop</label>
      <div class="slider-row">
        <label>Speed:</label>
        <input type="range" id="video-speed" min="0.25" max="2" value="1" step="0.25">
        <span id="video-speed-value" class="slider-value">1.0x</span>
      </div>
    </div>

    <div class="source-panel" id="source-online">
      <div id="online-unavailable" style="display:none;color:var(--sz-color-gray-text);font-size:10px;padding:8px;">
        Online services require an HTTP server. Open SZ via <code>npx serve</code> to enable.
      </div>
      <div id="online-controls">
        <div style="display:flex;align-items:center;gap:8px;margin-bottom:4px;">
          <label>Service:</label>
          <select id="online-service">
            <option value="picsum">Lorem Picsum</option>
            <option value="nasa">NASA APOD</option>
            <option value="bing">Bing Daily</option>
            <option value="giphy">Giphy</option>
          </select>
        </div>
        <div id="online-filter-row" style="display:flex;align-items:center;gap:6px;margin-bottom:4px;">
          <label>Search:</label>
          <input type="text" id="online-query" placeholder="Keywords..." style="flex:1;font-size:11px;">
        </div>
        <div style="display:flex;align-items:center;gap:8px;margin-bottom:4px;">
          <button id="btn-online-fetch">Fetch Now</button>
          <label>Position:</label>
          <select id="online-mode">
            <option value="cover">Stretch</option>
            <option value="contain">Fit</option>
            <option value="fill">Fill</option>
            <option value="center">Center</option>
            <option value="tile">Tile</option>
          </select>
        </div>
        <div class="online-thumbnails" id="online-thumbnails"></div>
      </div>
    </div>
  </div>

  <!-- Pattern Editor Dialog -->
  <div class="dialog-overlay" id="dlg-pattern">
    <div class="dialog" style="width:400px;">
      <div class="dialog-title">Edit Pattern</div>
      <div class="dialog-body" style="display:flex;gap:12px;">
        <div style="flex:1;">
          <canvas id="pattern-canvas" width="200" height="200" style="border:1px solid #999;cursor:crosshair;image-rendering:pixelated;"></canvas>
          <div style="display:flex;align-items:center;gap:8px;margin-top:6px;">
            <label>FG Color:</label>
            <input type="color" id="pattern-fg-color" value="#FFFFFF">
            <label>W:</label>
            <input type="number" id="pattern-width" min="1" max="16" value="8" style="width:40px;">
            <label>H:</label>
            <input type="number" id="pattern-height" min="1" max="16" value="8" style="width:40px;">
          </div>
        </div>
        <div style="width:120px;">
          <label style="font-weight:bold;font-size:10px;">Presets:</label>
          <ul class="pattern-preset-list" id="pattern-presets"></ul>
        </div>
      </div>
      <div class="dialog-buttons">
        <button data-result="ok">OK</button>
        <button data-result="cancel">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Pointers tab -->
  <div class="tab-body" id="panel-pointers">
    <div class="group-box">
      <legend>Cursor effects</legend>
      <label class="chk-row"><input type="checkbox" id="chk-cursor-shadow"> Enable mouse shadow</label>
      <label class="chk-row"><input type="checkbox" id="chk-cursor-trail"> Enable mouse trails</label>
    </div>
    <div class="group-box" id="trail-options-group">
      <legend>Trail length</legend>
      <div class="slider-row">
        <label>Short</label>
        <input type="range" id="cursor-trail-len" min="3" max="10" value="5" step="1">
        <label>Long</label>
        <span id="cursor-trail-len-value" class="slider-value">5</span>
      </div>
    </div>
    <div class="group-box" style="flex: 0 0 auto;">
      <legend>Preview</legend>
      <div class="cursor-preview" id="cursor-preview">
        <div class="cursor-preview-area" id="cursor-preview-area">
          <span class="cursor-preview-hint">Move pointer here to preview effects</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Taskbar tab -->
  <div class="tab-body" id="panel-taskbar">
    <div class="group-box">
      <legend>Taskbar appearance</legend>
      <label class="chk-row"><input type="checkbox" id="chk-lock-taskbar"> Lock the taskbar</label>
      <label class="chk-row"><input type="checkbox" id="chk-auto-hide"> Auto-hide the taskbar</label>
      <label class="chk-row"><input type="checkbox" id="chk-group-buttons" checked> Group similar taskbar buttons</label>
      <label class="chk-row"><input type="checkbox" id="chk-show-clock" checked> Show the clock</label>
    </div>
    <div class="group-box">
      <legend>Effects</legend>
      <label class="chk-row"><input type="checkbox" id="chk-animations" checked> Use transition effects for windows when minimizing and maximizing</label>
    </div>
    <div class="group-box">
      <legend>Start Menu</legend>
      <label class="chk-row"><input type="checkbox" id="chk-small-icons"> Use small icons in Start menu</label>
      <label class="chk-row"><input type="checkbox" id="chk-show-run" checked> Show Run command</label>
      <div style="margin-top:8px;">
        <button id="btn-clear-mru">Clear Recently Used Programs</button>
      </div>
    </div>
  </div>

  <!-- Window Management tab -->
  <div class="tab-body" id="panel-windowmgmt">
    <div class="subtabs">
      <div class="subtab active" data-subtab="snapping">Snapping</div>
      <div class="subtab" data-subtab="magnet">Magnet</div>
      <div class="subtab" data-subtab="stretching">Stretching</div>
      <div class="subtab" data-subtab="glue">Glue</div>
      <div class="subtab" data-subtab="tabs">Tabs</div>
    </div>

    <div class="subtab-body active" id="subpanel-snapping">
      <div class="group-box">
        <legend>Edge Snapping</legend>
        <div style="display:flex; align-items:center; gap:8px; margin-bottom:6px;">
          <label>Mode:</label>
          <select id="snap-mode">
            <option value="disabled">Disabled</option>
            <option value="aerosnap">AeroSnap</option>
            <option value="aquasnap">AquaSnap</option>
          </select>
        </div>
        <p class="hint-text">AeroSnap: drag to screen edges to snap windows to halves/quarters.<br>AquaSnap: adds bottom-half snapping and magnetic alignment.</p>
      </div>
    </div>

    <div class="subtab-body" id="subpanel-magnet">
      <div class="group-box">
        <legend>Magnetic Snapping</legend>
        <label class="chk-row"><input type="checkbox" id="chk-magnet-enabled"> Enable magnetic snapping</label>
        <label class="chk-row"><input type="checkbox" id="chk-magnet-screen"> Snap to screen edges</label>
        <label class="chk-row"><input type="checkbox" id="chk-magnet-outer"> Snap to outer edges of other windows</label>
        <label class="chk-row"><input type="checkbox" id="chk-magnet-inner"> Snap to inner edges of other windows</label>
        <label class="chk-row"><input type="checkbox" id="chk-magnet-corners"> Snap to corners of other windows</label>
      </div>
      <div class="group-box">
        <legend>Attraction</legend>
        <div class="slider-row">
          <label>Distance:</label>
          <input type="range" id="magnet-distance" min="1" max="50" value="10" step="1">
          <span id="magnet-distance-value" class="slider-value">10 px</span>
        </div>
        <label class="chk-row"><input type="checkbox" id="chk-magnet-fast"> Disable during fast movements</label>
        <div class="slider-row" id="speed-threshold-row" style="margin-top:2px;">
          <label>Speed:</label>
          <input type="range" id="magnet-speed" min="500" max="5000" value="1500" step="100">
          <span id="magnet-speed-value" class="slider-value">1500 px/s</span>
        </div>
      </div>
    </div>

    <div class="subtab-body" id="subpanel-stretching">
      <div class="group-box">
        <legend>Stretch Mode</legend>
        <div style="display:flex; align-items:center; gap:8px; margin-bottom:6px;">
          <label>Mode:</label>
          <select id="stretch-mode">
            <option value="disabled">Disabled</option>
            <option value="aerostretch">AeroStretch</option>
            <option value="aquastretch">AquaStretch</option>
          </select>
        </div>
        <p class="hint-text">Double-click a resize handle to stretch the window to the nearest edge.</p>
      </div>
      <div class="group-box">
        <legend>Allowed Directions</legend>
        <label class="chk-row"><input type="checkbox" id="chk-stretch-v"> Allow vertical stretching</label>
        <label class="chk-row"><input type="checkbox" id="chk-stretch-h"> Allow horizontal stretching</label>
        <label class="chk-row"><input type="checkbox" id="chk-stretch-d"> Allow diagonal stretching</label>
      </div>
      <div class="group-box">
        <legend>Target</legend>
        <div style="display:flex; align-items:center; gap:8px;">
          <label>Stretch to:</label>
          <select id="stretch-target">
            <option value="screen">Screen edge</option>
            <option value="nearest">Nearest window edge</option>
          </select>
        </div>
      </div>
    </div>

    <div class="subtab-body" id="subpanel-glue">
      <div class="group-box">
        <legend>Move Together (Glue)</legend>
        <label class="chk-row"><input type="checkbox" id="chk-glue-enabled"> Enable move-together</label>
        <label class="chk-row"><input type="checkbox" id="chk-glue-drag"> Ctrl+Drag moves adjacent windows</label>
        <label class="chk-row"><input type="checkbox" id="chk-glue-resize"> Ctrl+Resize adjusts adjacent windows</label>
        <p class="hint-text">When enabled, hold Ctrl while dragging or resizing to move/resize adjacent windows together.</p>
      </div>
    </div>

    <div class="subtab-body" id="subpanel-tabs">
      <div class="group-box">
        <legend>Window Tabs</legend>
        <label class="chk-row"><input type="checkbox" id="chk-tab-enabled"> Enable window tabbing</label>
        <label class="chk-row"><input type="checkbox" id="chk-tab-autohide"> Auto-hide tab bar</label>
        <p class="hint-text">Drag a window onto another window's title bar to create a tab group. Click tabs to switch, drag a tab out to detach.</p>
      </div>
    </div>
  </div>

  <div class="button-bar">
    <button id="btn-ok">OK</button>
    <button id="btn-cancel">Cancel</button>
    <button id="btn-apply">Apply</button>
  </div>

<div class="dialog-overlay" id="dlg-about">
  <div class="dialog">
    <div class="dialog-title">About Display Properties</div>
    <div class="dialog-body"></div>
    <div class="dialog-buttons"><button data-result="ok">OK</button></div>
  </div>
</div>

<script src="controller.js"></script>
</body>
</html>
